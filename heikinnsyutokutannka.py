import pandas as pd

# データの作成
data = {
    '数量': [
        100, 50, 20, 30, 1.0038, 0.3896, 481.4785, 156.4704, 42.205, 18.8226, 6.1239, 1.5774,
        0.994, 271.0639259, 285.3881278, -756, 709.0652, 242.2997, 76.3957, 25.8974, 8.0188,
        2.5219, 0.7287, 0.2178, 94.77, 29.8804, 9.7134, 3.4527, 1.0703, 0.3319, 0.0985, 0.0351,
        # 省略（上記の続き）
    ],
    '価格': [
        11.854, 11.78, 11.785, 13.25, 8.499, 8.499, 8.475, 8.47, 8.474, 8.47, 8.469, 8.468,
        8.468, 22.135, 21.024, 11.924, 12.916, 16.935, 16.935, 16.977, 17, 17, 17.449, 17.448,
        17.93, 17.93, 17.93, 17.93, 17.93, 17.92, 17.906, 17.904,
        # 省略（上記の続き）
    ]
}

# データフレームの作成
df = pd.DataFrame(data)

# 買い取引（正の数量のみ）を抽出
buy_df = df[df['数量'] > 0]

# 平均取得単価の計算
total_quantity = buy_df['数量'].sum()
weighted_price_sum = (buy_df['数量'] * buy_df['価格']).sum()
average_price = weighted_price_sum / total_quantity

# 結果の表示
average_price

